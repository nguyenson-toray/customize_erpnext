[
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": " body {\r\n            font-family: Arial, sans-serif;\r\n            margin: 20px;\r\n            font-size: 11px;\r\n            line-height: 1.3;\r\n        }\r\n        \r\n        .header {\r\n            display: flex;\r\n            justify-content: space-between;\r\n            align-items: flex-start;\r\n            margin-bottom: 20px;\r\n            border-bottom: 2px solid #000;\r\n            padding-bottom: 15px;\r\n        }\r\n        \r\n        .header-left {\r\n            display: flex;\r\n            flex-direction: column;\r\n            align-items: flex-start;\r\n        }\r\n        \r\n        .logo {\r\n            width: 120px;\r\n            height: auto;\r\n            margin-right: 20px;\r\n        }\r\n        \r\n        .company-info {\r\n            padding-top: 30px;\r\n            font-size: 10px;\r\n            line-height: 1.2;\r\n            color: #000;\r\n            max-width: 400px;\r\n        }\r\n        \r\n        .company-name {\r\n            font-weight: bold;\r\n            font-size: 11px;\r\n            color: #0066CC;\r\n            margin-bottom: 5px;\r\n        }\r\n        \r\n        .company-address {\r\n            margin-bottom: 3px;\r\n        }\r\n        \r\n        .header-right {\r\n            text-align: right;\r\n            display: flex;\r\n            flex-direction: column;\r\n            align-items: flex-end;\r\n        }\r\n        \r\n        .request-no {\r\n            font-size: 10px;\r\n            margin-bottom: 10px;\r\n        }\r\n        \r\n        .qr-code {\r\n            width: 80px;\r\n            height: 80px;\r\n            border: 1px solid #ccc;\r\n            background: #f9f9f9;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n            font-size: 8px;\r\n            color: #666;\r\n        }\r\n        \r\n        .form-title {\r\n            text-align: center;\r\n            margin: 20px 0;\r\n        }\r\n        \r\n        .title-en {\r\n            font-size: 18px;\r\n            font-weight: bold;\r\n            color: #000;\r\n            margin-bottom: 5px;\r\n        }\r\n        \r\n        .title-vi {\r\n            font-size: 14px;\r\n            font-style: italic;\r\n            color: #666;\r\n        }\r\n        \r\n        .form-info {\r\n            display: flex;\r\n            justify-content: space-between;\r\n            margin-bottom: 20px;\r\n            font-size: 10px;\r\n        }\r\n        \r\n        .form-left, .form-right {\r\n            width: 48%;\r\n        }\r\n        \r\n        .field-row {\r\n            display: flex;\r\n            margin-bottom: 8px;\r\n            align-items: center;\r\n        }\r\n        \r\n        .field-label {\r\n            font-weight: bold;\r\n            min-width: 120px;\r\n            margin-right: 10px;\r\n        }\r\n        \r\n        .field-value {\r\n            flex: 1;\r\n            border-bottom: 1px solid #000;\r\n            padding-bottom: 2px;\r\n            min-height: 16px;\r\n        }\r\n        \r\n        .section-title {\r\n            font-weight: bold;\r\n            background-color: #f0f0f0;\r\n            padding: 5px 10px;\r\n            margin: 15px 0 10px 0;\r\n            border: 1px solid #000;\r\n        }\r\n        \r\n        .employees-table {\r\n            width: 100%;\r\n            border-collapse: collapse;\r\n            margin: 10px 0;\r\n            font-size: 10px;\r\n        }\r\n        \r\n        .employees-table th,\r\n        .employees-table td {\r\n            border: 1px solid #000;\r\n            padding: 5px;\r\n            text-align: left;\r\n        }\r\n        \r\n        .employees-table th {\r\n            background-color: #f0f0f0;\r\n            font-weight: bold;\r\n            text-align: center;\r\n        }\r\n        \r\n        .approval-section {\r\n            margin-top: 30px;\r\n            display: flex;\r\n            justify-content: space-between;\r\n        }\r\n        \r\n        .margin-btm{\r\n            margin-bottom: 40px;\r\n        }\r\n        \r\n        .approval-box {\r\n            width: 30%;\r\n            border: 1px solid #000;\r\n            padding: 10px;\r\n            text-align: center;\r\n        }\r\n        \r\n        .eng-title {\r\n            font-weight: bold;\r\n            font-size: 11px;\r\n        }\r\n        .viet-title {\r\n            font-size: 10px;\r\n            text-transform: italic;\r\n        }\r\n        \r\n        .signature-line {\r\n            border-top: 1px solid #000;\r\n            margin-top: 40px;\r\n            padding-top: 5px;\r\n            font-size: 9px;\r\n        }\r\n        \r\n        .reason-box {\r\n            border: 1px solid #000;\r\n            padding: 10px;\r\n            margin: 10px 0;\r\n            min-height: 60px;\r\n        }\r\n        \r\n        .note {\r\n            font-size: 9px;\r\n            color: #666;\r\n            margin-top: 20px;\r\n            font-style: italic;\r\n        }\r\n        \r\n        .footer {\r\n            margin-top: 30px;\r\n            text-align: center;\r\n            font-size: 9px;\r\n            color: #666;\r\n        }",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Overtime Request",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<!DOCTYPE html>\r\n<html>\r\n<head>\r\n    <meta charset=\"utf-8\">\r\n    <title>Overtime Request - {{ doc.name }}</title>\r\n    \r\n</head>\r\n<body>\r\n    <!-- Header -->\r\n    <div class=\"header\">\r\n        <div class=\"header-left\">\r\n            <img src=\"https://res.cloudinary.com/dd6yp2m05/image/upload/v1747721714/logo_2_lwdudk.png\" alt=\"Toray Logo\" class=\"logo\">\r\n            <div class=\"company-info\">\r\n                <div class=\"company-name\">TORAY INTERNATIONAL VIETNAM COMPANY LIMITED - QUANG NGAI BRANCH</div>\r\n                <div class=\"company-address\">CÔNG TY TNHH TORAY INTERNATIONAL VIỆT NAM CHI NHÁNH QUẢNG NGÃI</div>\r\n                <div class=\"company-address\">No. 09, Tu Do Boulevard, VSIP - Số 09, Đại Lộ Tự Do, KCN VSIP, Việt Nam - Singapore</div>\r\n                <div class=\"company-address\">Dung Quat Economic Zone, Binh Son District, Xa Tho Phong</div>\r\n                <div class=\"company-address\">Quang Ngai Province, Viet Nam / Tỉnh Quảng Ngãi, Việt Nam</div>\r\n            </div>\r\n        </div>\r\n        <div class=\"header-right\">\r\n            <div class=\"request-no\">Request No.: {{ doc.name }}</div>\r\n            <div class=\"qr-code\">\r\n                QR CODE\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- Form Title -->\r\n    <div class=\"form-title\">\r\n        <div class=\"title-en\">OVERTIME/HOLIDAY WORK APPLICATION FORM</div>` \r\n        <div class=\"title-vi\">BẢN ĐĂNG KÝ LÀM THÊM GIỜ</div>\r\n    </div>\r\n\r\n    <!-- Form Information -->\r\n    <div class=\"form-info\">\r\n        <div class=\"form-left\">\r\n            <div class=\"field-row\">\r\n                <span class=\"field-label\">Date / Ngày yêu cầu:</span>\r\n                <span class=\"field-value\">               {% if doc.request_date %}\r\n                    {% set date_str = doc.request_date|string %}\r\n                    {% if date_str|length == 10 %}\r\n                        {% set year = date_str[:4] %}\r\n                        {% set month = date_str[5:7] %}\r\n                        {% set day = date_str[8:10] %}\r\n                        {% set months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'] %}\r\n                        {{ day }}-{{ months[month|int - 1] }}-{{ year[2:] }}\r\n                    {% else %}\r\n                        {{ doc.request_date }}\r\n                    {% endif %}\r\n                {% endif %} </span>\r\n            </div>\r\n            <div class=\"field-row\">\r\n                <span class=\"field-label\">OT Date / Ngày làm thêm:</span>\r\n                <span class=\"field-value\">               {% if doc.request_date %}\r\n                    {% set date_str = doc.ot_date|string %}\r\n                    {% if date_str|length == 10 %}\r\n                        {% set year = date_str[:4] %}\r\n                        {% set month = date_str[5:7] %}\r\n                        {% set day = date_str[8:10] %}\r\n                        {% set months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'] %}\r\n                        {{ day }}-{{ months[month|int - 1] }}-{{ year[2:] }}\r\n                    {% else %}\r\n                        {{ doc.ot_date }}\r\n                    {% endif %}\r\n                {% endif %}</span>\r\n               \r\n            </div>\r\n            <div class=\"field-row\">\r\n                <span class=\"field-label\">Requested By / Người yêu cầu:</span>\r\n                <span class=\"field-value\">{{ doc.requested_by }}</span>\r\n            </div>\r\n        </div>\r\n        <div class=\"form-right\">\r\n            <div class=\"field-row\">\r\n                <span class=\"field-label\">Status / Trạng thái:</span>\r\n                <span class=\"field-value\">{{ doc.status }}</span>\r\n            </div>\r\n            <div class=\"field-row\">\r\n                <span class=\"field-label\">Total Employees / Tổng nhân viên:</span>\r\n                <span class=\"field-value\">{{ doc.total_employees or 0 }}</span>\r\n            </div>\r\n            <div class=\"field-row\">\r\n                <span class=\"field-label\">Total Hours / Tổng số giờ:</span>\r\n                <span class=\"field-value\">{{ doc.total_hours or 0  }} hours</span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- OT Location -->\r\n    <div class=\"field-row\" style=\"font-size:11px\">\r\n        <span class=\"field-label\">OT Location / Địa điểm làm thêm:</span>\r\n        <span class=\"field-value\">TORAY INTERNATIONAL VIETNAM COMPANY LIMITED - QUANG NGAI BRANCH / CÔNG TY TNHH TORAY INTERNATIONAL VIỆT NAM CHI NHÁNH QUẢNG NGÃI</span>\r\n    </div>\r\n\r\n    <!-- Reason Section -->\r\n    <!--<div class=\"section-title\">Reason for Overtime / Lý do làm thêm giờ</div>-->\r\n    <!--<div class=\"reason-box\">-->\r\n    <!--    {{ doc.reason or \"\" }}-->\r\n    <!--</div>-->\r\n\r\n    <!-- Employee Details -->\r\n    {% if doc.ot_employees %}\r\n    <!--<div class=\"section-title\">Employee Details / Thông tin nhân viên</div>-->\r\n    <table class=\"employees-table\">\r\n        <thead>\r\n            <tr>\r\n                <th rowspan=\"2\">No.<br>STT</th>\r\n                <th rowspan=\"2\">Employee Name<br>Họ tên </th>\r\n                <th rowspan=\"2\">Employee ID<br>Mã NV</th>\r\n                \r\n                <!--<th rowspan=\"2\">Department<br>Phòng ban</th>-->\r\n                <!--<th rowspan=\"2\">Position<br>Chức vụ</th>-->\r\n                <!--<th colspan=\"2\">Working Time / Thời gian làm việc</th>-->\r\n                <th rowspan=\"2\">Reason<br>Lý do</th>\r\n                <th rowspan=\"2\">Signature<br>Chữ ký</th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            {% for employee in doc.ot_employees %}\r\n            <tr>\r\n                <td style=\"text-align: center;\">{{ loop.index }}</td>\r\n                <td>{{ employee.employee_name or \"\" }}</td>\r\n                <td>{{ employee.employee or \"\" }}</td>\r\n                \r\n                <!--<td>{{ employee.department or \"\" }}</td>-->\r\n                <!--<td>{{ employee.designation or \"\" }}</td>-->\r\n                <!--<td>{{ employee.start_time or \"\" }}</td>-->\r\n                <td>{{ doc.reason or \"\" }}</td>\r\n                <!--<td style=\"text-align: center;\">{{ employee.ot_hours or 0 }}</td>-->\r\n                <td style=\"height: 40px;\"></td>\r\n            </tr>\r\n            {% endfor %}\r\n        </tbody>\r\n    </table>\r\n    {% endif %}\r\n\r\n    <!-- Approval Section -->\r\n    <div class=\"approval-section\">\r\n        \r\n         <div class=\"approval-box\">\r\n            <div class='margin-btm'> <div class=\"eng-title\" > Prepaired by: </div>  <div class=\"viet-title\" >Xem xét bởi</div></div>\r\n            <br> <br> \r\n             <div> <div class=\"eng-title\" > Leader </div>  <div class=\"viet-title\" >Trưởng nhóm</div></div>\r\n        </div>\r\n    \r\n         <div class=\"approval-box\">\r\n            <div class='margin-btm'> <div class=\"eng-title\" > Reviewed by: </div>  <div class=\"viet-title\" >Chấp thuận bởi</div></div>\r\n            <br> <br> \r\n             <div> <div class=\"eng-title\" > Department Manager </div>  <div class=\"viet-title\" >Trưởng bộ phận</div></div>\r\n        </div>\r\n        <div class=\"approval-box\">\r\n            <div class='margin-btm'> <div class=\"eng-title\" > Approved by </div>  <div class=\"viet-title\" >Phê duyệt bởi</div></div>\r\n            <br> <br> \r\n             <div> <div class=\"eng-title\" > Factory Manager </div>  <div class=\"viet-title\" >Giám đốc nhà máy</div></div>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- Additional Remarks -->\r\n    {% if doc.remarks %}\r\n    <div class=\"section-title\">Additional Remarks / Ghi chú thêm</div>\r\n    <div class=\"reason-box\">\r\n        {{ doc.remarks }}\r\n    </div>\r\n    {% endif %}\r\n\r\n    <!-- Note -->\r\n    <div class=\"note\">\r\n        ( It must be approved by 15:00 / Phải được phê duyệt trước 15 giờ )\r\n    </div>\r\n\r\n    <!-- Footer -->\r\n    <div class=\"footer\">\r\n        \r\n        This is a system generated document / Đây là tài liệu được tạo bởi hệ thống\r\n    </div>\r\n</body>\r\n</html>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-07-30 14:46:05.726754",
  "module": "Customize Erpnext",
  "name": "Custom Overtime Request",
  "page_number": "Hide",
  "pdf_generator": "wkhtmltopdf",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Stock Entry",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": "[]",
  "html": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Phiếu Cấp Phát</title>\n    <style>\n        body {\n            font-family: Arial, sans-serif;\n            margin: 2px;\n            font-size: 12px;\n            padding-bottom: 20px;\n            position: relative;\n        }\n        \n        @page {\n            size: A4 portrait;\n            margin: 5mm;\n            -webkit-print-color-adjust: exact;\n            print-color-adjust: exact;\n            @bottom-center {\n                content: \"Page \" counter(page) \" of \" counter(pages) \" | Printed on: {{ frappe.utils.now_datetime().strftime('%d/%m/%Y %H:%M:%S') }}\";\n                font-size: 9px;\n                color: #666;\n                font-family: Arial, sans-serif;\n            }\n        }\n        \n        html, body {\n            width: 210mm;\n            height: 297mm;\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        .header {\n            margin-bottom: 30px;\n            margin-top: 10px;\n        }\n        \n        .header-table {\n            width: 100%;\n            border-collapse: collapse;\n            margin-bottom: 20px;\n        }\n        \n        .header-table td {\n            border: none;\n            padding: 10px;\n            vertical-align: middle;\n        }\n        \n        .header-left {\n            width: 80px;\n            text-align: left;\n        }\n        \n        .header-center {\n            text-align: center;\n        }\n        \n        .header-center h1 {\n            margin: 5px 0;\n            font-size: 20px;\n            font-weight: bold;\n        }\n        \n        .header-center .japanese {\n            font-size: 14px;\n            margin: 0;\n        }\n        \n        .header-right {\n            width: 80px;\n            text-align: right;\n        }\n        \n        .qr-content {\n            text-align: center;\n        }\n        \n        .qr-number {\n            font-size: 10px;\n            font-weight: bold;\n            margin-top: 2px;\n            white-space: nowrap !important;\n            overflow: hidden;\n            text-overflow: ellipsis;\n            width: 100px;\n            display: inline-block;\n            line-height: 1.2;\n            word-break: keep-all;\n            word-wrap: normal;\n        }\n        \n        .info-table {\n            width: 100%;\n            border-collapse: collapse;\n            margin-bottom: 15px;\n            margin-top: 30px;\n        }\n        \n        .items-table {\n            width: 100%;\n            border-collapse: collapse;\n            margin-bottom: 20px;\n        }\n        \n        .footer-table {\n            width: 100%;\n            border-collapse: collapse;\n            margin-top: 30px;\n            page-break-inside: avoid;\n        }\n        \n        th, td {\n            border: 1px solid #000;\n            padding: 5px;\n            text-align: center;\n            font-size: 11px;\n            vertical-align: middle;\n        }\n        \n        th {\n            background-color: #f0f0f0;\n            font-weight: bold;\n        }\n        \n        .header-cell {\n            line-height: 1.2;\n        }\n        \n        .vietnamese {\n            display: block;\n            font-weight: bold;\n        }\n        \n        .japanese {\n            display: block;\n            font-size: 10px;\n            color: #666;\n        }\n        \n        .text-left {\n            text-align: left;\n        }\n        \n        .empty-row {\n            height: 40px;\n        }\n        \n        @media print {\n            body {\n                margin: 5mm;\n                padding-bottom: 10mm;\n                font-size: 11px;\n                position: relative;\n            }\n            \n            .qr-content img {\n                width: 70px !important;\n                height: 70px !important;\n            }\n            \n            .info-table {\n                margin-top: 35px !important;\n            }\n            \n            .footer-table {\n                page-break-inside: avoid;\n                margin-top: 40px;\n            }\n        }\n        \n\n    </style>\n</head>\n<body>\n    {%- set item_codes = [] -%}\n    {%- for item in doc.items -%}\n        {%- if item.item_code -%}\n            {%- set _ = item_codes.append(item.item_code) -%}\n        {%- endif -%}\n    {%- endfor -%}\n    \n    {%- set attributes_dict = {} -%}\n    {%- if item_codes -%}\n        {%- set attributes_result = frappe.db.sql(\"\"\"\n            SELECT parent, attribute, attribute_value \n            FROM `tabItem Variant Attribute` \n            WHERE parent IN %(item_codes)s \n            AND attribute IN ('Color', 'Size', 'Colour')\n            AND disabled = 0\n        \"\"\", {\"item_codes\": item_codes}, as_dict=True) -%}\n        \n        {%- for attr in attributes_result -%}\n            {%- if attr.parent not in attributes_dict -%}\n                {%- set _ = attributes_dict.update({attr.parent: {}}) -%}\n            {%- endif -%}\n            {%- set _ = attributes_dict[attr.parent].update({attr.attribute: attr.attribute_value}) -%}\n        {%- endfor -%}\n    {%- endif -%}\n\n    <!-- Header Section -->\n    <div class=\"header\">\n        <table class=\"header-table\">\n            <tr>\n                <td class=\"header-left\">\n                    <div style=\"width: 80px; height: 80px;\"></div>\n                </td>\n                <td class=\"header-center\">\n                    <h1>PHIẾU CẤP PHÁT</h1>\n                    <div class=\"japanese\"><h1>払い出し伝票</h1></div>\n                </td>\n                <td class=\"header-right\">\n                    <!-- QR Code with local generation -->\n                    <div class=\"qr-content\">\n                        {% set qr_data = frappe.utils.get_url() + \"/app/stock-entry/\" + doc.name %}\n                        {% set qr_code_base64 = frappe.call(\"customize_erpnext.api.qr_label_print.generate_qr_code_base64\", data=qr_data) %}\n                        <img src=\"data:image/png;base64,{{ qr_code_base64 }}\" \n                             alt=\"QR Code\" style=\"width: 80px; height: 80px;\">\n                        <div class=\"qr-number\">\n                            NO: {{ doc.custom_no }}\n                        </div>\n                    </div>\n                </td>\n            </tr>\n        </table>\n    </div>\n    \n    <!-- Document Info Table -->\n    <table class=\"info-table\">\n        <thead>\n            <tr>\n                <th class=\"header-cell\">\n                    <span class=\"vietnamese\">Ngày kế hoạch</span>\n                    <span class=\"japanese\">払い出し日</span>\n                </th>\n                <th class=\"header-cell\">\n                    <span class=\"vietnamese\">Đơn hàng</span>\n                    <span class=\"japanese\">プラント</span>\n                </th>\n                <th class=\"header-cell\">\n                    <span class=\"vietnamese\">Mã hàng</span>\n                    <span class=\"japanese\">No</span>\n                </th>\n                <th class=\"header-cell\">\n                    <span class=\"vietnamese\">Số lượng</span>\n                    <span class=\"japanese\">数量</span>\n                </th>\n                <th class=\"header-cell\">\n                    <span class=\"vietnamese\">Size</span>\n                    <span class=\"japanese\">サイズ</span>\n                </th>\n                <th class=\"header-cell\">\n                    <span class=\"vietnamese\">Màu</span>\n                    <span class=\"japanese\">カラー</span>\n                </th>\n                <th class=\"header-cell\">\n                    <span class=\"vietnamese\">Ngày xuất hàng</span>\n                    <span class=\"japanese\">納期</span>\n                </th>\n            </tr>\n        </thead>\n        <tbody>\n            <tr>\n                <td>{{ frappe.utils.formatdate(doc.plan_date, \"dd/MM/yyyy\") if doc.plan_date else \"\" }}</td>\n                <td>{{ doc.custom_order_no or \"\" }}</td>\n                <td>{{ doc.custom_fg_style or \"\" }}</td>\n                <td>{{ doc.custom_fg_qty or \"\" }}</td>\n                <td>{{ doc.custom_fg_size or \"\" }}</td>\n                <td>{{ doc.custom_fg_color or \"\" }}</td>\n                <td>{{ frappe.utils.formatdate(doc.posting_date, \"dd/MM/yyyy\") if doc.posting_date else \"\" }}</td>\n            </tr>\n        </tbody>\n    </table>\n\n    <!-- Items Detail Table -->\n    <div style=\"margin-bottom: 10px; font-weight: bold; text-align: center;\">CHI TIẾT 详細</div>\n    \n    <table class=\"items-table\">\n        <thead>\n            <tr>\n                <th style=\"width: 5%;\">STT</th>\n                <th style=\"width: 20%;\">\n                    <span class=\"vietnamese\">Chi tiết BTP/NPL</span>\n                    <span class=\"japanese\">品目分類</span>\n                </th>\n                <th style=\"width: 20%;\">\n                    <span class=\"vietnamese\">ART NPL</span>\n                    <span class=\"japanese\">資材品番</span>\n                </th>\n                <th style=\"width: 10%;\">\n                    <span class=\"vietnamese\">Size</span>\n                    <span class=\"japanese\">サイズ</span>\n                </th>\n                <th style=\"width: 15%;\">\n                    <span class=\"vietnamese\">Màu</span>\n                    <span class=\"japanese\">色</span>\n                </th>\n                <th style=\"width: 10%;\">\n                    <span class=\"vietnamese\">Số lượng</span>\n                    <span class=\"japanese\">数量</span>\n                </th>\n                <th style=\"width: 20%;\">\n                    <span class=\"vietnamese\">Ghi chú</span>\n                    <span class=\"japanese\">備考</span>\n                </th>\n            </tr>\n        </thead>\n        <tbody>\n            {% for item in doc.items %}\n            <tr>\n                <td>{{ loop.index }}</td>\n                <td class=\"text-left\">{{ item.custom_btp_npl or \"\" }}</td>\n                <td class=\"text-left\">{{ item.item_name or \"\" }}</td>\n                <td>\n                    {%- set size_value = \"\" -%}\n                    {%- if item.item_code and item.item_code in attributes_dict -%}\n                        {%- set item_attrs = attributes_dict[item.item_code] -%}\n                        {%- set size_value = item_attrs.get('Size', '') -%}\n                    {%- endif -%}\n                    {{ size_value or item.custom_size or \"\" }}\n                </td>\n                <td>\n                    {%- set color_value = \"\" -%}\n                    {%- if item.item_code and item.item_code in attributes_dict -%}\n                        {%- set item_attrs = attributes_dict[item.item_code] -%}\n                        {%- set color_value = item_attrs.get('Color', item_attrs.get('Colour', '')) -%}\n                    {%- endif -%}\n                    {{ color_value or item.custom_color or \"\" }}\n                </td>\n                <td>{{ item.qty }} {{ item.uom or \"\" }}</td>\n                <td class=\"text-left\">{{ item.custom_remarks or \"\" }}</td>\n            </tr>\n            {% endfor %}\n        </tbody>\n    </table>\n\n    <!-- Footer Signature Table -->\n    <table class=\"footer-table\">\n        <thead>\n            <tr>\n                <th class=\"header-cell\" style=\"width: 25%;\">\n                    <span class=\"vietnamese\">GHI CHÚ</span>\n                    <span class=\"japanese\">備考</span>\n                </th>\n                <th class=\"header-cell\" style=\"width: 25%;\">\n                    <span class=\"vietnamese\">KHO NGUYÊN LIỆU</span>\n                    <span class=\"japanese\">資材管理</span>\n                </th>\n                <th class=\"header-cell\" style=\"width: 25%;\">\n                    <span class=\"vietnamese\">LINE</span>\n                    <span class=\"japanese\">ライン</span>\n                </th>\n                <th class=\"header-cell\" style=\"width: 25%;\">\n                    <span class=\"vietnamese\">QC</span>\n                </th>\n            </tr>\n        </thead>\n        <tbody>\n            <tr class=\"empty-row\">\n                <td>{{ doc.custom_remarks or \"\" }}</td>\n                <td>&nbsp;</td>\n                <td>&nbsp;</td>\n                <td>&nbsp;</td>\n            </tr>\n        </tbody>\n    </table>\n\n\n</body>\n</html>",
  "line_breaks": 0,
  "margin_bottom": 10.0,
  "margin_left": 10.0,
  "margin_right": 10.0,
  "margin_top": 10.0,
  "modified": "2025-07-16 11:10:37.348325",
  "module": "Customize Erpnext",
  "name": "Stock Entry Customize",
  "page_number": "Bottom Right",
  "pdf_generator": "wkhtmltopdf",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Overtime Registration",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<!DOCTYPE html>\r\n<html>\r\n<head>\r\n    <meta charset=\"utf-8\">\r\n    <style>\r\n        body {\r\n            font-family: \"Times New Roman\", serif;\r\n            font-size: 11px;\r\n            line-height: 1.2;\r\n            margin: 3px;\r\n            padding: 5px;\r\n            position: relative;\r\n            counter-reset: page;\r\n        }\r\n        \r\n        .header {\r\n            margin-bottom: 10px;\r\n        }\r\n        \r\n        .company-info {\r\n            float: left;\r\n            width: 75%;\r\n            font-size: 10px;\r\n            line-height: 1.2;\r\n        }\r\n        \r\n        .company-info .vietnamese {\r\n            font-style: italic;\r\n            font-weight: normal;\r\n        }\r\n        \r\n        .document-info {\r\n            float: right;\r\n            width: 20%;\r\n            text-align: center;\r\n            font-size: 9px;\r\n            padding: 5px;\r\n        }\r\n        \r\n        .document-number {\r\n            font-weight: bold;\r\n            margin-bottom: 5px;\r\n            font-size: 11px;\r\n        }\r\n        \r\n        .barcode {\r\n            margin-top: 5px;\r\n        }\r\n        \r\n        .qr-content {\r\n            display: flex;\r\n            flex-direction: column;\r\n            align-items: center;\r\n        }\r\n        \r\n        .title-section {\r\n            text-align: center;\r\n            margin-bottom: 10px;\r\n            clear: both;\r\n            padding-top: 10px;\r\n        }\r\n        \r\n        .main-title {\r\n            font-size: 18px;\r\n            font-weight: bold;\r\n            margin-bottom: 3px;\r\n        }\r\n        \r\n        .sub-title {\r\n            font-size: 16px;\r\n            font-weight: bold;\r\n            color: #666;\r\n            font-style: italic;\r\n        }\r\n        \r\n        .form-info {\r\n            margin-bottom: 10px;\r\n            clear: both;\r\n        }\r\n        \r\n        .info-row {\r\n            margin-bottom: 4px;\r\n            display: flex;\r\n            align-items: center;\r\n        }\r\n        \r\n        .info-label {\r\n            font-weight: bold;\r\n            min-width: 200px;\r\n        }\r\n        \r\n        .info-label .vietnamese {\r\n            font-style: italic;\r\n            font-weight: normal;\r\n        }\r\n        \r\n        .info-value {\r\n            flex: 1;\r\n            border-bottom: 1px solid #ccc;\r\n            padding-bottom: 1px;\r\n            min-height: 14px;\r\n        }\r\n        \r\n        .info-value .vietnamese {\r\n            font-style: italic;\r\n            font-weight: normal;\r\n        }\r\n        \r\n        .table-container {\r\n            margin: 10px 0;\r\n        }\r\n        \r\n        .data-table {\r\n            width: 100%;\r\n            border-collapse: collapse;\r\n            border: 1px solid #000;\r\n            font-size: 11px;\r\n        }\r\n        \r\n        .data-table th {\r\n            background-color: #f5f5f5;\r\n            border: 1px solid #000;\r\n            padding: 1px;\r\n            text-align: center;\r\n            font-weight: bold;\r\n            vertical-align: middle;\r\n            font-size: 10px;\r\n        }\r\n        \r\n        .data-table th .vietnamese {\r\n            font-style: italic;\r\n            font-weight: normal;\r\n        }\r\n        \r\n        .data-table td {\r\n            border: 1px solid #000;\r\n            padding: 1px; \r\n            text-align: center;\r\n            vertical-align: middle;\r\n        }\r\n        \r\n        .data-table td.text-left {\r\n            text-align: left;\r\n        }\r\n        \r\n        .totals-section {\r\n            margin: 10px 0;\r\n            display: flex;\r\n            justify-content: space-between;\r\n        }\r\n        \r\n        .totals-item {\r\n            flex: 1;\r\n            text-align: left;\r\n        }\r\n        \r\n        .totals-text {\r\n            font-weight: bold;\r\n            font-size: 11px;\r\n        }\r\n        \r\n        .totals-text .vietnamese {\r\n            font-style: italic;\r\n            font-weight: normal;\r\n        }\r\n        \r\n        .footer {\r\n            margin-top: 10px;\r\n            page-break-inside: avoid;\r\n        }\r\n        \r\n        .explanation-section {\r\n            margin-bottom: 10px;\r\n        }\r\n        \r\n        .explanation-label {\r\n            font-weight: bold;\r\n            margin-bottom: 5px;\r\n            font-size: 11px;\r\n        }\r\n        \r\n        .explanation-label .vietnamese {\r\n            font-style: italic;\r\n            font-weight: normal;\r\n        }\r\n        \r\n        .explanation-lines {\r\n            height: 40px;\r\n            padding: 5px;\r\n        }\r\n        \r\n        .explanation-line {\r\n            border-bottom: 1px solid #ccc;\r\n            margin-bottom: 8px;\r\n            height: 15px;\r\n        }\r\n        \r\n        .signature-section {\r\n            display: flex;\r\n            justify-content: space-between;\r\n            text-align: center;\r\n        }\r\n        \r\n        .signature-box {\r\n            width: 30%;\r\n            padding: 5px;\r\n            height: 80px;\r\n            display: flex;\r\n            flex-direction: column;\r\n            justify-content: space-between;\r\n        }\r\n        \r\n        .signature-title {\r\n            font-weight: bold;\r\n            margin-bottom: 3px;\r\n            font-size: 11px;\r\n        }\r\n        \r\n        .signature-title-vn {\r\n            font-style: italic;\r\n            color: #666;\r\n            font-size: 9px;\r\n            margin-bottom: 15px;\r\n        }\r\n        \r\n        .signature-space {\r\n            flex: 1;\r\n            margin: 5px 0;\r\n        }\r\n        \r\n        .signature-role {\r\n            font-weight: bold;\r\n            margin-top: 15px;\r\n            font-size: 11px;\r\n        }\r\n        \r\n        .signature-role-vn {\r\n            font-style: italic;\r\n            color: #666;\r\n            font-size: 9px;\r\n        }\r\n        \r\n        .page-number {\r\n            position: fixed;\r\n            bottom: 15px;\r\n            right: 15px;\r\n            font-style: italic;\r\n            color: #666;\r\n            font-size: 9px;\r\n        }\r\n        \r\n        @page {\r\n            /*top right bottom left;*/  \r\n            margin: 0.4cm 0.4cm 0.4cm 0.6cm;\r\n            @bottom-right {\r\n                content: \"Page \" counter(page) \" of \" counter(pages);\r\n                font-family: \"Times New Roman\", serif;\r\n                font-style: italic;\r\n                color: #666;\r\n                font-size: 9px;\r\n                margin-bottom: 10px;\r\n            }\r\n        }\r\n        \r\n        .clearfix::after {\r\n            content: \"\";\r\n            display: table;\r\n            clear: both;\r\n        }\r\n        \r\n        @media print {\r\n            body { \r\n                margin: 0; \r\n                padding-left: 15px;\r\n                padding-right: 5px;\r\n                padding-top: 5px;\r\n                padding-bottom: 5px;\r\n            }\r\n            .page-break { page-break-before: always; }\r\n            .page-number {\r\n                display: none; /* Hide for print, use @page @bottom-right instead */\r\n            }\r\n        }\r\n    </style>\r\n</head>\r\n<body>\r\n    <!-- Header Section -->\r\n    <div class=\"header clearfix\">\r\n        <div class=\"company-info\">\r\n            <strong>TORAY INTERNATIONAL VIETNAM COMPANY LIMITED - QUANG NGAI BRANCH</strong><br>\r\n            <strong><span class=\"vietnamese\">CÔNG TY TNHH TORAY INTERNATIONAL VIỆT NAM CN QUẢNG NGÃI</span></strong><br><br>\r\n            No. 09, Tu Do Boulevard, VSIP / <span class=\"vietnamese\">Số 09, Đại Lộ Tự Do, KCN Việt Nam - Singapore</span><br>\r\n            Tinh Tho Commune, Son Tinh District / <span class=\"vietnamese\">Xã Tịnh Thọ, Huyện Sơn Tịnh</span><br>\r\n            Quang Ngai Province, Viet Nam / <span class=\"vietnamese\">Tỉnh Quảng Ngãi, Việt Nam</span>\r\n        </div>\r\n        \r\n        <div class=\"document-info\">\r\n            <div class=\"document-number\">\r\n                No: {{ doc.name }}\r\n            </div>\r\n            <div class=\"barcode\">\r\n                <!-- QR Code with local generation -->\r\n                <div class=\"qr-content\">\r\n                    {% set qr_data = frappe.utils.get_url() + \"/app/overtime-registration/\" + doc.name %}\r\n                    {% set qr_code_base64 = frappe.call(\"customize_erpnext.api.qr_label_print.generate_qr_code_base64\", data=qr_data) %}\r\n                    {% if qr_code_base64 %}\r\n                        <img src=\"data:image/png;base64,{{ qr_code_base64 }}\" \r\n                             alt=\"QR Code\" style=\"width: 70px; height: 70px; border: none;\">\r\n                    {% else %}\r\n                        <div style=\"width: 70px; height: 70px; border: 1px solid #ccc; display: flex; align-items: center; justify-content: center; font-size: 8px; text-align: center;\">\r\n                            {{ doc.name }}\r\n                        </div>\r\n                    {% endif %}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    \r\n    <div class=\"title-section\">\r\n        <div class=\"main-title\">OVERTIME/HOLIDAY WORK APPLICATION FORM</div>\r\n        <div class=\"sub-title\">BẢN ĐĂNG KÝ LÀM THÊM GIỜ</div>\r\n    </div>\r\n    \r\n    <!-- Form Information -->\r\n    <div class=\"form-info\">\r\n        <div class=\"info-row\">\r\n            <span class=\"info-label\">Date/ <span class=\"vietnamese\">Ngày yêu cầu</span>:</span>\r\n            <span class=\"info-value\">\r\n                {% if doc.request_date %}\r\n                    {{ frappe.utils.formatdate(doc.request_date, \"dd/MM/yyyy\") }}\r\n                {% endif %}\r\n                <!--&nbsp;&nbsp;&nbsp;&nbsp;(It must be approved by 15:00 / Phải được phê duyệt trước 15 giờ)-->\r\n            </span>\r\n        </div>\r\n        \r\n        <div class=\"info-row\">\r\n            <span class=\"info-label\">OT Location/<br><span class=\"vietnamese\">Địa điểm làm thêm</span>:</span>\r\n            <span class=\"info-value\">\r\n                Toray International Vietnam Company Limited - Quang Ngai Branch<br>\r\n                <span class=\"vietnamese\">Công Ty TNHH Toray International Việt Nam - CN Quảng Ngãi</span>\r\n            </span>\r\n        </div>\r\n        \r\n        <div class=\"info-row\">\r\n            <span class=\"info-label\">Group / <span class=\"vietnamese\">Nhóm</span>:</span>\r\n            <span class=\"info-value\">\r\n                {% set groups = [] %}\r\n                {% for row in doc.ot_employees %}\r\n                    {% if row.group and row.group not in groups %}\r\n                        {% set _ = groups.append(row.group) %}\r\n                    {% endif %}\r\n                {% endfor %}\r\n                {{ groups | join(\", \") }}\r\n            </span>\r\n        </div>\r\n        \r\n        <div class=\"info-row\">\r\n            <span class=\"info-label\">Reason / <span class=\"vietnamese\">Lý do</span>:</span>\r\n            <span class=\"info-value\">{{ doc.reason_general or \"\" }}</span>\r\n        </div>\r\n    </div>\r\n    \r\n    <!-- Data Table -->\r\n    <div class=\"table-container\">\r\n        <table class=\"data-table\">\r\n            <thead>\r\n                <tr>\r\n                    <th style=\"width: 2%;\">No<br><span class=\"vietnamese\">STT</span></th>\r\n                    <th style=\"width: 11%;\">Employee Code<br><span class=\"vietnamese\">MSNV</span></th>\r\n                    <th style=\"width: 16%;\">Full Name<br><span class=\"vietnamese\">Họ tên</span></th>\r\n                    <th style=\"width: 8%;\">Group<br><span class=\"vietnamese\">Nhóm</span></th>\r\n                    <th style=\"width: 17%;\">Date<br><span class=\"vietnamese\">Ngày</span></th>\r\n                    <th style=\"width: 9%;\">Begin Time<br><span class=\"vietnamese\">Giờ bắt đầu</span></th>\r\n                    <th style=\"width: 9%;\">End Time<br><span class=\"vietnamese\">Giờ kết thúc</span></th>\r\n                    <th style=\"width: 19%;\">Reason<br><span class=\"vietnamese\">Lý do</span></th>\r\n                    <th style=\"width: 9%;\">Signature<br><span class=\"vietnamese\">Chữ ký</span></th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {% set employee_data = {} %}\r\n                \r\n                <!-- Group data by employee -->\r\n                {% for row in doc.ot_employees %}\r\n                    {% if row.employee not in employee_data %}\r\n                        {% set _ = employee_data.update({\r\n                            row.employee: {\r\n                                'employee_name': row.employee_name,\r\n                                'group': row.group,\r\n                                'dates': [],\r\n                                'times': [],\r\n                                'reasons': []\r\n                            }\r\n                        }) %}\r\n                    {% endif %}\r\n                    \r\n                    {% if row.date %}\r\n                        {% set _ = employee_data[row.employee]['dates'].append(frappe.utils.formatdate(row.date, \"dd/MM/yy\")) %}\r\n                    {% endif %}\r\n                    \r\n                    {% if row.begin_time and row.end_time %}\r\n                        {% set begin_time_formatted = (row.begin_time|string)[:5] if row.begin_time else \"\" %}\r\n                        {% set end_time_formatted = (row.end_time|string)[:5] if row.end_time else \"\" %}\r\n                        {% set time_range = begin_time_formatted + \" - \" + end_time_formatted %}\r\n                        {% set _ = employee_data[row.employee]['times'].append(time_range) %}\r\n                    {% endif %}\r\n                    \r\n                    {% if row.reason %}\r\n                        {% set _ = employee_data[row.employee]['reasons'].append(row.reason) %}\r\n                    {% endif %}\r\n                {% endfor %}\r\n                \r\n                <!-- Display grouped data -->\r\n                {% set counter = [0] %}\r\n                {% for employee_id, data in employee_data.items() %}\r\n                    {% set _ = counter.append(counter.pop() + 1) %}\r\n                    <tr>\r\n                        <td>{{ counter[0] }}</td>\r\n                        <td>{{ employee_id }}</td>\r\n                        <td class=\"text-left\">{{ data.employee_name or \"\" }}</td>\r\n                        <td>{{ data.group or \"\" }}</td>\r\n                        <td class=\"text-left\">\r\n                            {% for date in data.dates | unique %}\r\n                                {{ date }}{% if not loop.last %}&nbsp;&nbsp;{% endif %}\r\n                            {% endfor %}\r\n                        </td>\r\n                        <td>\r\n                            {% for time in data.times | unique %}\r\n                                {{ time.split(' - ')[0] }}{% if not loop.last %}<br>{% endif %}\r\n                            {% endfor %}\r\n                        </td>\r\n                        <td>\r\n                            {% for time in data.times | unique %}\r\n                                {{ time.split(' - ')[1] }}{% if not loop.last %}<br>{% endif %}\r\n                            {% endfor %}\r\n                        </td>\r\n                        <td class=\"text-left\">\r\n                            {% for reason in data.reasons | unique %}\r\n                                {{ reason }}{% if not loop.last %}<br>{% endif %}\r\n                            {% endfor %}\r\n                        </td>\r\n                        <td style=\"height: 20px;\"></td>\r\n                    </tr>\r\n                {% endfor %}\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n    \r\n    <!-- Totals Section -->\r\n    <div class=\"totals-section\">\r\n        <div class=\"totals-item\">\r\n            <div class=\"totals-text\">Total Employees / <span class=\"vietnamese\">Tổng số NV</span>: {{ doc.total_employees or 0 }}</div>\r\n        </div>\r\n        <div class=\"totals-item\">\r\n            <div class=\"totals-text\">Total Hours / <span class=\"vietnamese\">Tổng số giờ</span>: {{ \"%.1f\"|format(doc.total_hours or 0) }}</div>\r\n        </div>\r\n    </div>\r\n    \r\n    <!-- Footer Section -->\r\n    <div class=\"footer\">\r\n        <div class=\"explanation-section\">\r\n            <div class=\"explanation-label\">\r\n                Other justifications/explanation (<span class=\"vietnamese\">Giải trình khác</span>):\r\n            </div>\r\n            <div class=\"explanation-lines\">\r\n                <div class=\"explanation-line\"></div>\r\n                <div class=\"explanation-line\"></div>\r\n            </div>\r\n        </div>\r\n        \r\n        <div class=\"signature-section\">\r\n            <div class=\"signature-box\">\r\n                <div>\r\n                    <div class=\"signature-title\">Prepared by:</div>\r\n                    <div class=\"signature-title-vn\">Chuẩn bị bởi</div>\r\n                </div> \r\n                <div class=\"signature-space\"></div>\r\n                <div class=\"signature-space\"></div>\r\n                <div class=\"signature-space\"></div>\r\n                <div>\r\n                    <div class=\"signature-role\">Leader</div>\r\n                    <div class=\"signature-role-vn\">Trưởng nhóm</div>\r\n                </div>\r\n            </div>\r\n            \r\n            <div class=\"signature-box\">\r\n                <div>\r\n                    <div class=\"signature-title\">Reviewed by:</div>\r\n                    <div class=\"signature-title-vn\">Xem xét bởi</div>\r\n                </div>\r\n                <div class=\"signature-space\"></div>\r\n                <div class=\"signature-space\"></div>\r\n                <div class=\"signature-space\"></div>\r\n                <div>\r\n                    <div class=\"signature-role\">Department Manager</div>\r\n                    <div class=\"signature-role-vn\">Trưởng Bộ Phận</div>\r\n                </div>\r\n            </div>\r\n            \r\n            <div class=\"signature-box\">\r\n                <div>\r\n                    <div class=\"signature-title\">Approved by:</div>\r\n                    <div class=\"signature-title-vn\">Phê duyệt bởi</div>\r\n                </div>\r\n                <div class=\"signature-space\"></div>\r\n                <div class=\"signature-space\"></div>\r\n                <div class=\"signature-space\"></div>\r\n                <div>\r\n                    <div class=\"signature-role\">Factory Manager</div>\r\n                    <div class=\"signature-role-vn\">Giám đốc Nhà máy</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    \r\n    <!-- Page Number -->\r\n    <div class=\"page-number\" id=\"pageNumber\">\r\n        Page 1\r\n    </div>\r\n</body>\r\n</html>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-07-30 14:27:39.311513",
  "module": "Customize Erpnext",
  "name": "Overtime Registration",
  "page_number": "Hide",
  "pdf_generator": "wkhtmltopdf",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": " body {\r\n            font-family: \"Times New Roman\", serif;\r\n            font-size: 11px;\r\n            line-height: 1.2;\r\n            margin: 3px;\r\n            padding: 5px;\r\n            position: relative;\r\n            counter-reset: page;\r\n        }\r\n        \r\n        .header {\r\n            margin-bottom: 10px;\r\n        }\r\n        \r\n        .company-info {\r\n            float: left;\r\n            width: 75%;\r\n            font-size: 10px;\r\n            line-height: 1.2;\r\n        }\r\n        \r\n        .company-info .vietnamese {\r\n            font-style: italic;\r\n            font-weight: normal;\r\n        }\r\n        \r\n        .document-info {\r\n            float: right;\r\n            width: 20%;\r\n            text-align: center;\r\n            font-size: 9px;\r\n            padding: 5px;\r\n        }\r\n        \r\n        .document-number {\r\n            font-weight: bold;\r\n            margin-bottom: 5px;\r\n            font-size: 11px;\r\n        }\r\n        \r\n        .barcode {\r\n            margin-top: 5px;\r\n        }\r\n        \r\n        .qr-content {\r\n            display: flex;\r\n            flex-direction: column;\r\n            align-items: center;\r\n        }\r\n        \r\n        .title-section {\r\n            text-align: center;\r\n            margin-bottom: 10px;\r\n            clear: both;\r\n            padding-top: 10px;\r\n        }\r\n        \r\n        .main-title {\r\n            font-size: 18px;\r\n            font-weight: bold;\r\n            margin-bottom: 3px;\r\n             color: #000;\r\n        }\r\n        \r\n        .sub-title {\r\n            font-size: 16px;\r\n            font-weight: bold;\r\n            color: #666;\r\n            font-style: italic;\r\n        }\r\n        \r\n        .form-info {\r\n            margin-bottom: 10px;\r\n            clear: both;\r\n        }\r\n        \r\n        .info-row {\r\n            margin-bottom: 4px;\r\n            display: flex;\r\n            align-items: center;\r\n        }\r\n        \r\n        .info-label {\r\n            font-weight: bold;\r\n            min-width: 200px;\r\n        }\r\n        \r\n        .info-label .vietnamese {\r\n            font-style: italic;\r\n            font-weight: normal;\r\n        }\r\n        \r\n        .info-value {\r\n            flex: 1;\r\n            border-bottom: 1px solid #ccc;\r\n            padding-bottom: 1px;\r\n            min-height: 14px;\r\n        }\r\n        \r\n        .info-value .vietnamese {\r\n            font-style: italic;\r\n            font-weight: normal;\r\n        }\r\n        \r\n        .table-container {\r\n            margin: 10px 0;\r\n        }\r\n        \r\n        .data-table {\r\n            width: 100%;\r\n            border-collapse: collapse;\r\n            border: 1px solid #000;\r\n            font-size: 11px;\r\n        }\r\n        \r\n        .data-table th {\r\n            background-color: #f5f5f5;\r\n            border: 1px solid #000;\r\n            padding: 1px;\r\n            text-align: center;\r\n            font-weight: bold;\r\n            vertical-align: middle;\r\n            font-size: 10px;\r\n              color: #000;\r\n        }\r\n        \r\n        .data-table th .vietnamese {\r\n            font-style: italic;\r\n            font-weight: normal;\r\n             color: #000;\r\n        }\r\n        \r\n        .data-table td {\r\n            border: 1px solid #000;\r\n            padding: 1px; \r\n            text-align: center;\r\n            vertical-align: middle;\r\n        }\r\n        \r\n        .data-table td.text-left {\r\n            text-align: left;\r\n        }\r\n        \r\n        .totals-section {\r\n            margin: 10px 0;\r\n            display: flex;\r\n            justify-content: space-between;\r\n        }\r\n        \r\n        .totals-item {\r\n            flex: 1;\r\n            text-align: left;\r\n        }\r\n        \r\n        .totals-text {\r\n            font-weight: bold;\r\n            font-size: 11px;\r\n        }\r\n        \r\n        .totals-text .vietnamese {\r\n            font-style: italic;\r\n            font-weight: normal;\r\n        }\r\n        \r\n        .footer {\r\n            margin-top: 10px;\r\n            page-break-inside: avoid;\r\n        }\r\n        \r\n        .explanation-section {\r\n            margin-bottom: 10px;\r\n        }\r\n        \r\n        .explanation-label {\r\n            font-weight: bold;\r\n            margin-bottom: 5px;\r\n            font-size: 11px;\r\n        }\r\n        \r\n        .explanation-label .vietnamese {\r\n            font-style: italic;\r\n            font-weight: normal;\r\n        }\r\n        \r\n        .explanation-lines {\r\n            height: 40px;\r\n            padding: 5px;\r\n        }\r\n        \r\n        .explanation-line {\r\n            border-bottom: 1px solid #ccc;\r\n            margin-bottom: 8px;\r\n            height: 15px;\r\n        }\r\n        \r\n        .signature-section {\r\n            display: flex;\r\n            justify-content: space-between;\r\n            text-align: center;\r\n        }\r\n        \r\n        .signature-box {\r\n            width: 30%;\r\n            padding: 5px;\r\n            height: 80px;\r\n            display: flex;\r\n            flex-direction: column;\r\n            justify-content: space-between;\r\n        }\r\n        \r\n        .signature-title {\r\n            font-weight: bold;\r\n            margin-bottom: 3px;\r\n            font-size: 11px;\r\n        }\r\n        \r\n        .signature-title-vn {\r\n            font-style: italic;\r\n            color: #666;\r\n            font-size: 9px;\r\n            margin-bottom: 15px;\r\n        }\r\n        \r\n        .signature-space {\r\n            flex: 1;\r\n            margin: 5px 0;\r\n        }\r\n        \r\n        .signature-role {\r\n            font-weight: bold;\r\n            margin-top: 15px;\r\n            font-size: 11px;\r\n        }\r\n        \r\n        .signature-role-vn {\r\n            font-style: italic;\r\n            color: #666;\r\n            font-size: 9px;\r\n        }\r\n        \r\n        .page-number {\r\n            position: fixed;\r\n            bottom: 15px;\r\n            right: 15px;\r\n            font-style: italic;\r\n            color: #666;\r\n            font-size: 9px;\r\n        }\r\n        \r\n        @page {\r\n            margin: 0.4cm 0.4cm 0.4cm 0.6cm;\r\n            @bottom-right {\r\n                content: \"Page \" counter(page) \" of \" counter(pages);\r\n                font-family: \"Times New Roman\", serif;\r\n                font-style: italic;\r\n                color: #666;\r\n                font-size: 9px;\r\n                margin-bottom: 10px;\r\n            }\r\n        }\r\n        \r\n        .clearfix::after {\r\n            content: \"\";\r\n            display: table;\r\n            clear: both;\r\n        }\r\n        \r\n       ",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Shift Registration",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<!DOCTYPE html>\r\n<html>\r\n<head>\r\n    <meta charset=\"utf-8\">\r\n    <style>\r\n        @media print {\r\n            body { \r\n                margin: 0; \r\n                padding-left: 15px;\r\n                padding-right: 5px;\r\n                padding-top: 5px;\r\n                padding-bottom: 5px;\r\n            }\r\n            .page-break { page-break-before: always; }\r\n            .page-number {\r\n                display: none;\r\n            }\r\n        }\r\n    </style>\r\n</head>\r\n<body>\r\n    <!-- Header Section -->\r\n    <div class=\"header clearfix\">\r\n        <div class=\"company-info\">\r\n            <strong>TORAY INTERNATIONAL VIETNAM COMPANY LIMITED - QUANG NGAI BRANCH</strong><br>\r\n            <strong><span class=\"vietnamese\">CÔNG TY TNHH TORAY INTERNATIONAL VIỆT NAM CN QUẢNG NGÃI</span></strong><br><br>\r\n            No. 09, Tu Do Boulevard, VSIP / <span class=\"vietnamese\">Số 09, Đại Lộ Tự Do, KCN Việt Nam - Singapore</span><br>\r\n            Tinh Tho Commune, Son Tinh District / <span class=\"vietnamese\">Xã Tịnh Thọ, Huyện Sơn Tịnh</span><br>\r\n            Quang Ngai Province, Viet Nam / <span class=\"vietnamese\">Tỉnh Quảng Ngãi, Việt Nam</span>\r\n        </div>\r\n        \r\n        <div class=\"document-info\">\r\n            <div class=\"document-number\">\r\n                No: {{ doc.name }}\r\n            </div>\r\n            <div class=\"barcode\">\r\n                <!-- QR Code with local generation -->\r\n                <div class=\"qr-content\">\r\n                    {% set qr_data = frappe.utils.get_url() + \"/app/shift-registration/\" + doc.name %}\r\n                    {% set qr_code_base64 = frappe.call(\"customize_erpnext.api.qr_label_print.generate_qr_code_base64\", data=qr_data) %}\r\n                    {% if qr_code_base64 %}\r\n                        <img src=\"data:image/png;base64,{{ qr_code_base64 }}\" \r\n                             alt=\"QR Code\" style=\"width: 70px; height: 70px; border: none;\">\r\n                    {% else %}\r\n                        <div style=\"width: 70px; height: 70px; border: 1px solid #ccc; display: flex; align-items: center; justify-content: center; font-size: 8px; text-align: center;\">\r\n                            {{ doc.name }}\r\n                        </div>\r\n                    {% endif %}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    \r\n    <div class=\"title-section\">\r\n        <div class=\"main-title\">SHIFT REGISTRATION FORM</div>\r\n        <div class=\"sub-title\">BẢN ĐĂNG KÝ CA LÀM VIỆC</div>\r\n    </div>\r\n    \r\n    <!-- Form Information -->\r\n    <div class=\"form-info\">\r\n        <div class=\"info-row\">\r\n            <span class=\"info-label\">Request Date/ <span class=\"vietnamese\">Ngày yêu cầu</span>:</span>\r\n            <span class=\"info-value\">\r\n                {% if doc.request_date %}\r\n                    {{ frappe.utils.formatdate(doc.request_date, \"dd/MM/yyyy\") }}\r\n                {% endif %}\r\n            </span>\r\n        </div>\r\n        \r\n        <div class=\"info-row\">\r\n            <span class=\"info-label\">Requested By/<br><span class=\"vietnamese\">Người yêu cầu</span>:</span>\r\n            <span class=\"info-value\">\r\n                {{ doc.requested_by or \"\" }}\r\n            </span>\r\n        </div>\r\n        \r\n        <div class=\"info-row\">\r\n            <span class=\"info-label\">Shift Type / <span class=\"vietnamese\">Loại ca</span>:</span>\r\n            <span class=\"info-value\">\r\n                {{ doc.shift or \"\" }}\r\n            </span>\r\n        </div>\r\n        \r\n        <div class=\"info-row\">\r\n            <span class=\"info-label\">Work Date / <span class=\"vietnamese\">Ngày làm việc</span>:</span>\r\n            <span class=\"info-value\">\r\n                {% if doc.begin_date and doc.end_date %}\r\n                    {% if doc.begin_date == doc.end_date %}\r\n                        {{ frappe.utils.formatdate(doc.begin_date, \"dd/MM/yyyy\") }}\r\n                    {% else %}\r\n                        {{ frappe.utils.formatdate(doc.begin_date, \"dd/MM/yyyy\") }} - {{ frappe.utils.formatdate(doc.end_date, \"dd/MM/yyyy\") }}\r\n                    {% endif %}\r\n                {% endif %}\r\n            </span>\r\n        </div>\r\n        \r\n        <div class=\"info-row\">\r\n            <span class=\"info-label\">Work Time / <span class=\"vietnamese\">Thời gian làm việc</span>:</span>\r\n            <span class=\"info-value\">\r\n               {% if doc.begin_time and doc.end_time %}\r\n                    {{ (doc.begin_time|string)[:5].rstrip(':') }} - {{ (doc.end_time|string)[:5].rstrip(':') }}\r\n                {% endif %}\r\n            </span>\r\n        </div>\r\n        \r\n        <div class=\"info-row\">\r\n            <span class=\"info-label\">Group / <span class=\"vietnamese\">Nhóm</span>:</span>\r\n            <span class=\"info-value\">\r\n                {% set groups = [] %}\r\n                {% for row in doc.employees_list %}\r\n                    {% if row.group and row.group not in groups %}\r\n                        {% set _ = groups.append(row.group) %}\r\n                    {% endif %}\r\n                {% endfor %}\r\n                {{ groups | join(\", \") }}\r\n            </span>\r\n        </div>\r\n        \r\n        <div class=\"info-row\">\r\n            <span class=\"info-label\">Reason / <span class=\"vietnamese\">Lý do</span>:</span>\r\n            <span class=\"info-value\">{{ doc.reason or \"\" }}</span>\r\n        </div>\r\n    </div>\r\n    \r\n    <!-- Data Table -->\r\n    <div class=\"table-container\">\r\n        <table class=\"data-table\">\r\n            <thead>\r\n                <tr>\r\n                    <th style=\"width: 3%;\">No<br><span class=\"vietnamese\">STT</span></th>\r\n                    <th style=\"width: 12%;\">Employee Code<br><span class=\"vietnamese\">MSNV</span></th>\r\n                    <th style=\"width: 18%;\">Full Name<br><span class=\"vietnamese\">Họ tên</span></th>\r\n                    <th style=\"width: 8%;\">Group<br><span class=\"vietnamese\">Nhóm</span></th>\r\n                    <th style=\"width: 12%;\">Begin Date<br><span class=\"vietnamese\">Ngày bắt đầu</span></th>\r\n                    <th style=\"width: 12%;\">End Date<br><span class=\"vietnamese\">Ngày kết thúc</span></th>\r\n                    <th style=\"width: 10%;\">Begin Time<br><span class=\"vietnamese\">Giờ bắt đầu</span></th>\r\n                    <th style=\"width: 10%;\">End Time<br><span class=\"vietnamese\">Giờ kết thúc</span></th>\r\n                    <th style=\"width: 15%;\">Signature<br><span class=\"vietnamese\">Chữ ký</span></th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {% set counter = [0] %}\r\n                {% for row in doc.employees_list %}\r\n                    {% if row.employee %}\r\n                        {% set _ = counter.append(counter.pop() + 1) %}\r\n                        <tr>\r\n                            <td>{{ counter[0] }}</td>\r\n                            <td>{{ row.employee or \"\" }}</td>\r\n                            <td class=\"text-left\">{{ row.employee_name or \"\" }}</td>\r\n                            <td>{{ row.group or \"\" }}</td>\r\n                            <td>\r\n                                {% if row.begin_date %}\r\n                                    {{ frappe.utils.formatdate(row.begin_date, \"dd/MM/yy\") }}\r\n                                {% endif %}\r\n                            </td>\r\n                            <td>\r\n                                {% if row.end_date %}\r\n                                    {{ frappe.utils.formatdate(row.end_date, \"dd/MM/yy\") }}\r\n                                {% endif %}\r\n                            </td>\r\n                            <td>\r\n                                {% if row.begin_time %}\r\n                                   {{ (row.begin_time|string)[:5].rstrip(':') }}\r\n                                {% endif %}\r\n                            </td>\r\n                            <td>\r\n                                {% if row.end_time %}\r\n                                    {{ (row.end_time|string)[:5].rstrip(':') }}\r\n                                {% endif %}\r\n                            </td>\r\n                            <td style=\"height: 25px;\"></td>\r\n                        </tr>\r\n                    {% endif %}\r\n                {% endfor %}\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n    \r\n    <!-- Totals Section -->\r\n    <div class=\"totals-section\">\r\n        <div class=\"totals-item\">\r\n            <div class=\"totals-text\">Total Employees / <span class=\"vietnamese\">Tổng số NV</span>: {{ doc.total_employees or 0 }}</div>\r\n        </div>\r\n        <div class=\"totals-item\">\r\n            <div class=\"totals-text\">Shift Type / <span class=\"vietnamese\">Loại ca</span>: {{ doc.shift or \"\" }}</div>\r\n        </div>\r\n    </div>\r\n    \r\n    <!-- Footer Section -->\r\n    <div class=\"footer\">\r\n        <div class=\"explanation-section\">\r\n            <div class=\"explanation-label\">\r\n                Other justifications/explanation (<span class=\"vietnamese\">Giải trình khác</span>):\r\n            </div>\r\n            <div class=\"explanation-lines\">\r\n                <div class=\"explanation-line\"></div>\r\n                <div class=\"explanation-line\"></div>\r\n            </div>\r\n        </div>\r\n        \r\n        <div class=\"signature-section\">\r\n            <div class=\"signature-box\">\r\n                <div>\r\n                    <div class=\"signature-title\">Prepared by:</div>\r\n                    <div class=\"signature-title-vn\">Chuẩn bị bởi</div>\r\n                </div> \r\n                <div class=\"signature-space\"></div>\r\n                <div class=\"signature-space\"></div>\r\n                <div class=\"signature-space\"></div>\r\n                <div>\r\n                    <div class=\"signature-role\">Leader</div>\r\n                    <div class=\"signature-role-vn\">Trưởng nhóm</div>\r\n                </div>\r\n            </div>\r\n            \r\n            <div class=\"signature-box\">\r\n                <div>\r\n                    <div class=\"signature-title\">Reviewed by:</div>\r\n                    <div class=\"signature-title-vn\">Xem xét bởi</div>\r\n                </div>\r\n                <div class=\"signature-space\"></div>\r\n                <div class=\"signature-space\"></div>\r\n                <div class=\"signature-space\"></div>\r\n                <div>\r\n                    <div class=\"signature-role\">Department Manager</div>\r\n                    <div class=\"signature-role-vn\">Trưởng Bộ Phận</div>\r\n                </div>\r\n            </div>\r\n            \r\n            <div class=\"signature-box\">\r\n                <div>\r\n                    <div class=\"signature-title\">Approved by:</div>\r\n                    <div class=\"signature-title-vn\">Phê duyệt bởi</div>\r\n                </div>\r\n                <div class=\"signature-space\"></div>\r\n                <div class=\"signature-space\"></div>\r\n                <div class=\"signature-space\"></div>\r\n                <div>\r\n                    <div class=\"signature-role\">Factory Manager</div>\r\n                    <div class=\"signature-role-vn\">Giám đốc Nhà máy</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    \r\n    <!-- Page Number -->\r\n    <div class=\"page-number\" id=\"pageNumber\">\r\n        Page 1\r\n    </div>\r\n</body>\r\n</html>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-08-09 15:00:13.300743",
  "module": "Customize Erpnext",
  "name": "Shift Registration",
  "page_number": "Hide",
  "pdf_generator": "wkhtmltopdf",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 }
]